<!Doctype html>
<html lang="en">
<head>
    <title>Assignments</title>
    <meta charset="utf-8"/>
    <script type="text/javascript" src="/Scripts/application.js" defer></script>
    <script type="text/javascript" src="/Scripts/network.js" defer></script>
    <script type="text/javascript" src="/Scripts/Pages/assignment.js" defer></script>
    <link rel="stylesheet" type="text/css" href="/Content/style-old.css">
</head>
<body onload="init()">
<header>
    Logged in as <span data="AuthorizedUser.Name"></span>
    (<span data="AuthorizedUser.Identifier"></span>) -
    <span link="AuthorizedUser"><button>Homepage</button></span>
    <a href="/Logout">
        <button>Logout</button>
    </a>
</header>
<p class="buttonCenter">Course: <span data="Course.Name" link="Course"></span> (<span data="Course.Term"></span>)</p>
<h1>Assignment "<span data="Name"></span>"</h1>
<div class="box">
    <h2>Assignment Details</h2>
    <table>
        <tr>
            <td>Number:</td>
            <td data="Number"></td>
        </tr>
        <tr>
            <td>Deadline:</td>
            <td data="Deadline"></td>
        </tr>
        <tr>
            <td>Min. required Score:</td>
            <td data="MinRequiredScore"></td>
        </tr>
        <tr>
            <td>Mandatory:</td>
            <td data="Mandatory"></td>
        </tr>
        <tr>
            <td>Weight:</td>
            <td data="Weight"></td>
        </tr>
        <tr>
            <td>Final Results:</td>
            <td data="IsFinal" type="checkbox"></td>
        </tr>
        <tr>
            <td>Group Size:</td>
            <td><span data="MinGroupSize"></span>-<span data="MaxGroupSize"></span></td>
        </tr>
    </table>
    <p roles="Teacher">
        <button>Set Assignment Results as Final</button>
        <button task="Edit">Edit Assignment Details</button>
        <button task="Delete">Delete Assignment</button>
    </p>
</div>
<div class="box" roles="Teacher Tutor">
    <h2>Assignment Lessons</h2>
    <table class="centerTable" id="LessonTable">
        <tr>
            <th>Lesson</th>
            <th>Date</th>
            <th>Tutor</th>
            <th roles="Teacher">Actions</th>
        </tr>
        <!-- ALSO POSSIBLE: order="Lesson.Tutor.Name DESC" -->
        <tr datalist="Lesson" order="Lesson.Number ASC" removeonempty="LessonTable">
            <td link="Lesson">Lesson <span data="Lesson.Number" type="number" min="1"></span></td>
            <td><span data="Lesson.Date" type="date"></span></td>
            <td>
                <span mode="show" data="Lesson.Tutor.Name"></span>
                <span mode="edit" data="Lesson.Tutor.Name"></span>
            </td>
            <td roles="Teacher">
                <button task="Lesson.Edit">Edit</button>
                <button task="Lesson.Delete">Delete</button>
            </td>
        </tr>
    </table>
    <div class="buttonCenter" roles="Teacher">
        <input type="text" size="12" placeholder="Lesson Number" data="NewLesson.Number">
        <input type="number" min="1" placeholder="TutorId" data="NewLesson.NewTutorId">
        <input type="date" placeholder="Date" data="NewLesson.Date">
        <input type="hidden" data="NewLesson.NewAssignmentId" autoValue="Id">
        <button task="NewLesson.Add">Add Lesson</button>
    </div>
</div>
<div class="box" roles="Student">
    <h2>Assignment Group</h2>
    <table id="GroupTable">
        <tr>
            <td>Group Number:</td>
            <td data="Group.Number"></td>
        </tr>
        <tr>
            <td>Group Password:</td>
            <td data="Group.Password"></td>
        </tr>
        <tr>
            <td>Group Members:</td>
            <td>
                <span datalist="Group.Student" order="Group.Student.Name ASC" removeonempty="GroupTable">
                    <span data="Group.Student.Name"></span><br>
                </span>
            </td>
        </tr>
    </table>
</div>
<div class="box">
    <h2>Assignment <span roles="Teacher Tutor">Tasks</span><span roles="Student">Results</span></h2>
    <p class="note" roles="Student">Final Results: <span data="Group.IsFinal"></span></p>
    <table class="centerTable" id="TaskTable">
        <tr>
            <th>Name</th>
            <th roles="Student">Score</th>
            <th>Max. Score</th>
            <th roles="Teacher">Actions</th>
        </tr>
        <tr datalist="Task" order="Task.Number ASC" removeonempty="TaskTable">
            <td><span data="Task.Name"></span></td>
            <td roles="Student"><span data="Task.Score">t.b.a.</span></td>
            <td><span data="Task.MaxScore"></span></td>
            <td roles="Teacher">
                <button task="Task.Edit">Edit</button>
                <button task="Task.Delete">Delete</button>
            </td>
        </tr>
    </table>
    <div class="buttonCenter" roles="Teacher">
        <input size="10" placeholder="Task Number" data="NewTask.Number">
        <input size="20" placeholder="Task Name" data="NewTask.Name">
        <input size="10" placeholder="Max. Score" data="NewTask.MaxScore">
        <button task="NewTask.Add">Add Task</button>
    </div>
</div>
</body>
</html>
